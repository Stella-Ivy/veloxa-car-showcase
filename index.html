<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hogwarts Characters</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Lora:ital@0;1&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Boxicons CSS -->
    <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <style>
        /* --- General Reset & Styles --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #0c111e; 
            color: #e0d7c1;
            font-family: 'Lora', serif;
        }

        h1, h2, h3 {
            font-family: 'Cinzel Decorative', cursive;
            color: #e4c590;
            font-weight: 700;
        }

        /* --- Video Background Styling --- */
        .video-background {
            position: fixed; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden; 
        }

        #bg-video {
            width: 100vw; 
            height: 100vh; 
            object-fit: cover;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); 
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(12, 17, 30, 0.2); 
            z-index: -1; 
        }

        main, footer {
            position: relative; 
            z-index: 1;
        }
        
        /* --- Luna Pioneers Navigation Bar --- */
        nav{
            
            position: fixed;
            display: flex;
            top: 0;
            right: 0;
            left: 0;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.123);
            backdrop-filter: blur(5px);
            padding: 0 30px;
            box-shadow: 0 0 15px #72a1de68;
            z-index: 999;
             
        }

        .left{
            display: flex;
            align-items: center;
        }

        .left img{
            width: 40px;
            height: 40px;
            object-fit: contain;
            margin: 0 15px;
        }
        
        /* NAV LOGO TEXT STYLE */
        nav .left h1 {
            font-family: 'Inter', sans-serif;
            font-size: 1.4rem;
            color: #410eb9;
        }

        nav ul{
            display: flex;
            justify-content: space-evenly;
            align-items: center;
            list-style: none;
            width: 40%;
            padding: 10px 15px;
            border-radius: 50px;
            background-color: rgba(0, 0, 0, 0.30);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 10px #727fde65;
            cursor: pointer;
           
        }

        nav ul a {
            text-decoration: none;
            color: white;
            font-weight: 700;
            margin: 0 10px;
            font-family: 'Lora', serif;
        }

        .box-icons{
            display: flex;
            gap: 25px;
        }

        .box-icons a{
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            width: 35px;
            height: 35px;
            border: 2px solid #727fde;
            text-decoration: none;
            color: lightgray;
            border-radius: 50%;
            transition: 0.3s;
        }

        .box-icons a:hover{
            background-color: #727fde;
            color: black;
            box-shadow: 0 0 15px #727fde6f;
        }
        
        /* --- Main Content Layout --- */
        main { 
            max-width: 1100px; 
            margin: 40px auto; 
            padding: 120px 20px 0; /* Add padding-top to avoid overlap with fixed nav */
        }
        
        .main-title { 
            font-size: 5rem; 
            text-align: center; 
            margin-bottom: 40px; 
            letter-spacing: 5px; 
        }

        /* --- Filter Buttons --- */
        .filters { display: flex; justify-content: center; gap: 15px; margin-bottom: 40px; flex-wrap: wrap; }
        .filter-btn { background-color: transparent; border: 1px solid rgba(228, 197, 144, 0.4); color: #e0d7c1; padding: 10px 20px; font-family: 'Lora', serif; font-size: 16px; cursor: pointer; border-radius: 5px; display: flex; align-items: center; gap: 8px; transition: all 0.3s ease; }
        .filter-btn img { width: 20px; height: auto; }
        .filter-btn:hover { background-color: rgba(228, 197, 144, 0.1); border-color: #e4c590; }
        .filter-btn.active { border-color: #e4c590; box-shadow: 0 0 15px rgba(228, 197, 144, 0.6); animation: glowing-border 2s infinite ease-in-out; }
        @keyframes glowing-border { 0%, 100% { box-shadow: 0 0 5px rgba(228, 197, 144, 0.4); } 50% { box-shadow: 0 0 20px rgba(228, 197, 144, 0.8); } }

        /* --- Character Grid & Cards --- */
        .character-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; }
        .character-card { background-color: transparent; border: 2px solid #5a4d35; border-radius: 15px; padding: 5px; width: 300px; box-sizing: border-box; transition: opacity 0.5s ease, transform 0.5s ease; opacity: 1; transform: scale(1); position: relative; overflow: hidden; }
        .character-card::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(110deg, transparent 20%, rgba(253, 224, 141, 0.5) 50%, transparent 80%); transition: left 0.8s; z-index: 2; }
        .character-card:hover::before { left: 100%; }
        .character-card.hide { transform: scale(0.8); opacity: 0; width: 0; padding: 0; margin: 0; border: 0; }
        .card-content { border: 1px solid rgba(228, 197, 144, 0.6); border-radius: 8px; padding: 20px; background-color: #0c111e; height: 100%; box-sizing: border-box; text-align: center; position: relative; z-index: 1; }
        .card-content img { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #e4c590; margin-bottom: 15px; }
        .card-content h2 { font-size: 1.8rem; margin: 10px 0 5px; }
        .card-content .house { color: #b0a998; margin-bottom: 10px; font-style: italic; }
        .card-content .short-desc { color: #e0d7c1; font-size: 14px; min-height: 40px; }
        .view-more-btn { background: transparent; border: 1px solid #e4c590; color: #e4c590; padding: 8px 25px; margin-top: 15px; cursor: pointer; border-radius: 4px; font-family: 'Lora', serif; transition: all 0.3s; }
        .view-more-btn:hover { background-color: #e4c590; color: #0c111e; }

        /* --- Modal Styles (Detail Box & Full Story) --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(12, 17, 30, 0.95); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 1; transition: opacity 0.5s ease; }
        .modal-overlay.hidden { opacity: 0; pointer-events: none; }
        .detail-content { background-color: #0c111e; border: 2px solid #e4c590; border-radius: 10px; padding: 25px; width: 90%; max-width: 480px; text-align: center; animation: fadeInDetail 0.5s ease-out; }
        @keyframes fadeInDetail { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .detail-content .char-name { font-size: 2.5rem; }
        .char-house-container { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .char-house-logo { height: 30px; width: auto; }
        .detail-content .char-house { font-size: 1.2rem; margin: 0; }
        .detail-content .char-image-container { display: flex; gap: 20px; align-items: center; text-align: left; margin-bottom: 20px; }
        .detail-content .char-img { width: 130px; height: 130px; border-radius: 50%; border: 4px solid #e4c590; object-fit: cover; }
        .detail-content .char-title { font-size: 2rem; }
        .detail-content .about-section h3 { text-align: left; font-size: 1.4rem; border-bottom: 1px solid rgba(228, 197, 144, 0.3); padding-bottom: 5px; margin-bottom: 10px; }
        .detail-content .char-desc { text-align: left; font-size: 14px; line-height: 1.6; }
        .detail-buttons { margin-top: 25px; display: flex; justify-content: center; gap: 15px; }
        .detail-btn { background: transparent; border: 1px solid #e4c590; color: #e4c590; padding: 8px 20px; cursor: pointer; border-radius: 4px; font-size: 15px; min-width: 100px; transition: all 0.3s; }
        .detail-btn:hover { background-color: #e4c590; color: #0c111e; }
        .heart-btn { font-size: 18px; }
        .full-story-content { background-color: #0c111e; border: 2px solid #e4c590; border-radius: 10px; padding: 40px; width: 90%; max-width: 700px; max-height: 80vh; overflow-y: auto; position: relative; animation: fadeInDetail 0.5s ease-out; }
        .close-story-btn { position: absolute; top: 15px; right: 20px; background: none; border: none; color: #e4c590; font-size: 2.5rem; cursor: pointer; line-height: 1; }
        #story-details h2 { font-size: 2.5rem; text-align: center; }
        #story-details p { font-size: 16px; line-height: 1.8; color: #e0d7c1; }

        /* --- Animations (Magic Wand & Hearts) --- */
        #magic-animation-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1001; display: flex; justify-content: center; align-items: center; background-color: rgba(12, 17, 30, 0.8); }
        #magic-animation-overlay.hidden { display: none; }
        .magic-wand { font-size: 80px; animation: magic-swirl 1.5s ease-in-out forwards; }
        @keyframes magic-swirl { 0% { transform: translate(0, 0) rotate(0deg) scale(0.5); opacity: 0; } 25% { transform: translate(-100px, -50px) rotate(-90deg) scale(1); opacity: 1; } 50% { transform: translate(100px, 50px) rotate(90deg) scale(1); } 75% { transform: translate(-50px, 100px) rotate(180deg) scale(1); } 100% { transform: translate(0, 0) rotate(360deg) scale(0); opacity: 0; } }
        .flying-heart { position: fixed; font-size: 20px; z-index: 1002; animation: fly-up 2s ease-out forwards; pointer-events: none; }
        @keyframes fly-up { 0% { opacity: 1; transform: translate(0, 0) scale(1); } 100% { opacity: 0; transform: translate(var(--x-end), var(--y-end)) scale(0.5) rotate(720deg); } }

        /* --- New Luna Pioneers Footer --- */
        .custom-footer {
            background-color: #0a0c1a;
            color: lightgray;
            padding: 40px 20px 0;
            font-family: 'Inter', sans-serif;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            
        }

        .footer-top {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            max-width: 1100px;
            margin: auto;
            padding-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        
        .footer-col.footer-logo {
    display: flex;
    align-items: flex-start;
    gap: 50px;
    line-height: 1.5;
    font-family: 'Inter', sans-serif;
    margin-top: 20px;
    margin-left: 57px;


   
}

.footer-logo-img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    margin-top: -35px; 
    line-height: 1.5;
}

.footer-title {
    font-size: 1.6rem;
    color: #727fde;
    margin: 4px 0 6px 0; 
     font-family: 'Inter', sans-serif;
     padding: auto;
      margin-top: 20px;
}

.footer-desc {
    font-size: 12px;
    color: #ffffff;
    white-space: nowrap;
    margin-top: 20px;
}

.footer-crafted {
    font-size: 12px;
    color: #fffefe;
    line-height: 1.5;
    
}

.footer-top {
    display: flex;
    flex-wrap: nowrap;
    justify-content: flex-start;
    align-items: flex-start;
    max-width: 11000px;
    margin: auto;
    padding-bottom: 30px;
    gap: 80px; 
   
    
    
}




        .footer-col h3 {
            color: white;
            margin-bottom: 10px;
            font-size: 16px;
            font-family: 'Inter', serif;
            line-height: 30px;
            padding: auto;
            

        }

        .footer-col ul {
            list-style: none;
            
            margin-bottom: 15px;
        }

        .footer-col ul li {
            margin-bottom: 10px;
        }

        .footer-col ul li a {
            text-decoration: none;
            color: #aaa;
            transition: 0.3s;
        }

        .footer-col ul li a:hover {
            color: white;
            text-shadow: 0 0 10px #727fdeaa;
        }

        .footer-socials a{
            display: inline-block;
            font-size: 22px;
            color: #727fde;
            transition: transform 0.3s cubic-bezier(1, 1.56,0.64, 1), color 0.3s ease;
            gap: 35px;
            padding: 2px;
        }

        .footer-socials a:hover{
            color: white;
            text-shadow: 0 0 10px #727fde;
            transform: translateY(-8px) rotate(-360deg);
        }

        .footer-bottom {
            text-align: center;
            padding: 30px;
            font-size: 12px;
            background-color: rgb(13, 13, 44);
            color: lightgray;
        }

        /* --- Responsive Design --- */
        @media (max-width: 768px){
            nav {
                flex-direction: column;
                height: auto;
                padding: 10px;
                gap: 10px;
            }

            .left {
                justify-content: center;
                width: 100%;
            }
            
            nav .left h1 { font-size: 1.2rem; }

            nav ul {
                width: 90%;
                justify-content: center;
                flex-wrap: wrap;
                padding: 10px;
                margin: 0;
                gap: 5px;
            }

            nav ul a { font-size: 14px; }
            .box-icons { gap: 15px; }
            .box-icons a { width: 30px; height: 30px; font-size: 18px; }
            
            main {
                padding-top: 170px; /* Adjust padding for taller mobile nav */
            }
            
            .main-title { font-size: 3rem; }

            .footer-col.footer-logo {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
        }

    </style>
</head>
<body>

    <!-- Video Background HTML-->
    <div class="video-background">
        <video autoplay muted loop id="bg-video">
            <source src="Harry vd.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- New Navigation Bar -->
    <nav>
        <div class="left">
            <img src="Luna Logo Txt.jpg" alt="logo">
            <h1>LUNA <span class="logo-highlight">PIONEERS</span></h1>
        </div>
        <ul>
           <li><a href="#">Home</a></li>
           <li><a href="#">About us</a></li>
           <li><a href="#">Contact</a></li>
           <li><a href="#">Skills</a></li>
           <li><a href="#">World</a></li>
        </ul>
        <div class="box-icons">
            <a href="#"><i class='bx bx-movie-play'></i></a> 
            <a href="#"><i class='bx bx-message-minus'></i></a>
            <a href="#"><i class='bx bxl-facebook-circle'></i></a>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <h1 class="main-title">Characters</h1>

        <!-- House Filter -->
        <div class="filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="Gryffindor"><img src="https://static.wikia.nocookie.net/harrypotter/images/b/b1/Gryffindor_ClearBG.png" alt="Gryffindor"> Gryffindor</button>
            <button class="filter-btn" data-filter="Slytherin"><img src="https://static.wikia.nocookie.net/harrypotter/images/0/00/Slytherin_ClearBG.png" alt="Slytherin"> Slytherin</button>
            <button class="filter-btn" data-filter="Ravenclaw"><img src="https://static.wikia.nocookie.net/harrypotter/images/7/71/Ravenclaw_ClearBG.png" alt="Ravenclaw"> Ravenclaw</button>
            <button class="filter-btn" data-filter="Hufflepuff"><img src="https://static.wikia.nocookie.net/harrypotter/images/0/06/Hufflepuff_ClearBG.png" alt="Hufflepuff"> Hufflepuff</button>
        </div>

        <!-- Character Card Grid-->
        <div class="character-grid">
            <!-- Character cards will be inserted here by JavaScript -->
        </div>
    </main>

    <!-- Character Detail Box (Modal) -->
    <div id="character-detail-view" class="modal-overlay hidden">
        <div class="detail-content"></div>
    </div>
    
    <!-- "More" Story Box (Modal) -->
    <div id="full-story-modal" class="modal-overlay hidden">
        <div class="full-story-content">
            <button class="close-story-btn">×</button>
            <div id="story-details"></div>
        </div>
    </div>

    <!-- Magic Wand Animation Overlay-->
    <div id="magic-animation-overlay" class="hidden">
        <div class="magic-wand">🪄</div>
    </div>

    <!-- New Footer -->
    <footer class="custom-footer">
        <div class="footer-top">
    <div class="footer-col footer-logo">
    <!-- Back arrow -->
    <a href="#" class="footer-back-arrow"><i class='bx bx-chevron-left'></i></a>

    <!-- Logo and text -->
    <div class="logo-text">
        <img src="Luna Logo Plain.jpg" alt="Luna Logo" class="footer-logo-img">
        <h2 class="footer-title">Luna Pioneers</h2>
        <p class="footer-desc">Explore magical lore, Hogwarts knowledge, and mythical creatures.</p>
        <p class="footer-crafted">
            Crafted with passion by <strong>Luna Pioneers.</strong>
        </p>
    </div>
</div>

            <div class="footer-col">
                <h3>Travel Links</h3>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">About us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Skills</a></li>
                    <li><a href="#">World</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Most Viewed</h3>
                <ul>
                    <li><a href="#">Creatures</a></li>
                    <li><a href="#">Wands</a></li>
                    <li><a href="#">Characters</a></li>
                    <li><a href="#">Ravenclaw</a></li>
                    <li><a href="#">Spells</a></li>
                </ul>
            </div>
            
            <div class="footer-col">
                <h3>Social Media</h3>
                <div class="footer-socials">
                    <a href="#"><i class='bx bxl-facebook-circle'></i></a>
                    <a href="#"><i class='bx bxs-videos'></i></a>
                    <a href="#"><i class='bx bxl-discord'></i></a>
                    <a href="#"><i class='bx bxl-twitch'></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Luna Pioneers | For educational use only. All rights belong to J.K. Rowling & Warner Bros.</p>
        </div>
    </footer>

    <!-- JavaScript-->
    <script>
    // =========================================================================
    //            HARRY POTTER CHARACTER WEBSITE - JAVASCRIPT LOGIC
    // =========================================================================
    document.addEventListener('DOMContentLoaded', function() {
        const houseData = {
            Gryffindor: { logo: 'https://static.wikia.nocookie.net/harrypotter/images/b/b1/Gryffindor_ClearBG.png' },
            Slytherin: { logo: 'https://static.wikia.nocookie.net/harrypotter/images/0/00/Slytherin_ClearBG.png' },
            Ravenclaw: { logo: 'https://static.wikia.nocookie.net/harrypotter/images/7/71/Ravenclaw_ClearBG.png' },
            Hufflepuff: { logo: 'https://static.wikia.nocookie.net/harrypotter/images/0/06/Hufflepuff_ClearBG.png' }
        };

        const characters = [
            { id: 1, name: 'Harry Potter', house: 'Gryffindor', image: 'https://static.standard.co.uk/homesandproperty/s3fs-public/thumbnails/image/2017/08/09/09/gossharrypotteralamy.jpg?crop=8:5,smart&quality=75&auto=webp&width=1000', shortDesc: 'The Boy Who Lived', title: 'The Boy Who Lived', about: 'A brave, loyal, and talented wizard.', longDesc: 'Harry was orphaned as a baby and became famous for surviving the Killing Curse. He attended Hogwarts, sorted into Gryffindor for his courage and determination.', fullStory: 'Harry James Potter\'s life was defined by a prophecy. Marked as an equal by Lord Voldemort, he became the only person to ever survive the Killing Curse. Raised by his magic-hating relatives, the Dursleys, Harry\'s life changed forever on his eleventh birthday when he learned he was a wizard. At Hogwarts, he formed an unbreakable bond with Ron Weasley and Hermione Granger. Together, they navigated the challenges of school life and the ever-present threat of Voldemort\'s return, ultimately leading to a final confrontation where Harry, the master of the Elder Wand, triumphed over the Dark Lord.' },
            { id: 2, name: 'Hermione Granger', house: 'Gryffindor', image: 'https://miro.medium.com/v2/resize:fit:1400/0*fZV8g-1uYh05uz3H', shortDesc: 'A highly intelligent witch', title: 'The Brightest Witch', about: 'Intelligent, logical, and a fierce friend.', longDesc: 'Hermione is the brains of the golden trio. Her vast knowledge and quick thinking have saved her friends on numerous occasions.', fullStory: 'Hermione Jean Granger, a Muggle-born witch, consistently proved that heritage has no bearing on magical ability. Her academic brilliance was matched only by her bravery and fierce loyalty. Often the voice of reason, she was instrumental in every adventure, from deciphering clues to brewing complex potions like Polyjuice. Her founding of S.P.E.W. (Society for the Promotion of Elfish Welfare) showcased her strong moral compass. After the war, she revolutionized the Ministry of Magic, advocating for the rights of all magical beings.' },
            { id: 3, name: 'Ron Weasley', house: 'Gryffindor', image: 'https://external-preview.redd.it/VUSrsTTnZydNBmxAQc9GdKzfR5YmJtXPiIJmWfZ2Few.jpg?auto=webp&s=b78132bd502f9a2242e5ee70c1f78d154f2171a9', shortDesc: 'Harry\'s loyal friend', title: 'A Loyal Friend', about: 'A loyal, humorous, and strategic thinker.', longDesc: 'Ron is Harry\'s first friend at Hogwarts and remains steadfastly loyal through their adventures, showing immense bravery.', fullStory: 'Ronald Bilius Weasley, the sixth of seven children, often felt overshadowed by his brothers but proved himself a hero in his own right. His loyalty to Harry was nearly absolute, providing much-needed humor and a connection to the wizarding family Harry never had. His strategic mind, famously demonstrated during the life-sized wizard\'s chess game, and his courage in the face of his deepest fears (spiders!) were crucial to the trio\'s success. He became an Auror alongside Harry and helped run the successful Weasleys\' Wizard Wheezes.' },
            { id: 4, name: 'Severus Snape', house: 'Slytherin', image: 'https://media1.popsugar-assets.com/files/thumbor/74K1b6ceu46-s1YKA3HyyFu3_9Q=/2850x1895/top/filters:format_auto():quality(85):extract_cover()/2020/08/19/813/n/1922283/tmp_KdlTb4_5f0aefacc3088515_MCDHAPO_EC587.jpg', shortDesc: 'Potions Master at Hogwarts', title: 'The Potions Master', about: 'A complex, stern, and profoundly brave man.', longDesc: 'The enigmatic Potions Master, Snape played a crucial role as a double agent, driven by his lifelong love for Lily Potter.', fullStory: 'Severus Snape is one of the most complex characters in the series. His cold demeanor and apparent hatred for Harry masked a deep, unrequited love for Harry\'s mother, Lily. This love compelled him to secretly protect Harry while acting as a double agent for Dumbledore against Voldemort. As Potions Master and later Headmaster of Hogwarts, he made immense sacrifices, living a life of constant danger and isolation. His final act was to give Harry the memories that contained the key to defeating Voldemort, revealing himself as the "bravest man" Harry ever knew.' },
            { id: 5, name: 'Albus Dumbledore', house: 'Gryffindor', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_GCOA8zi0glwyeU-v2YgVmZjXPHz6E03G1gZs8v8TKn1HkZOPJVrk7vmWuoE9FOukyVU&usqp=CAU', shortDesc: 'Headmaster of Hogwarts', title: 'The Greatest Wizard', about: 'Wise, powerful, and a guiding force for good.', longDesc: 'Albus Dumbledore was the Headmaster of Hogwarts and the leader of the Order of the Phoenix. He was the only one Voldemort ever feared.', fullStory: 'Albus Percival Wulfric Brian Dumbledore was a wizard of immense power, wisdom, and a penchant for knitting patterns. As Headmaster, he was a mentor and protector to Harry Potter. He orchestrated the long-term plan to defeat Voldemort, understanding that love was the most powerful magic of all. Despite his sometimes manipulative methods and a troubled past involving his family and Gellert Grindelwald, his ultimate goal was always for the greater good. His death, planned with Snape, was a final, strategic sacrifice to aid Harry in his quest.' },
            { id: 6, name: 'Lord Voldemort', house: 'Slytherin', image: 'https://media.harrypotterfanzone.com/lord-voldemort-deathly-hallows-part-2-portrait.jpg', shortDesc: 'The Dark Lord', title: 'He-Who-Must-Not-Be-Named', about: 'A powerful, cruel, and feared Dark wizard.', longDesc: 'Formerly Tom Riddle, Lord Voldemort is obsessed with blood purity and achieving immortality through his Horcruxes.', fullStory: 'Born Tom Marvolo Riddle, he was the heir of Salazar Slytherin. His fear of death drove him to split his soul into multiple Horcruxes, rendering him nearly immortal. He amassed an army of Death Eaters and unleashed two wizarding wars, seeking to purge the world of Muggles and Muggle-borns. His arrogance and inability to understand love were his ultimate weaknesses, leading to his downfall at the hands of Harry Potter, the boy he inadvertently marked as his equal.' },
            { id: 7, name: 'Draco Malfoy', house: 'Slytherin', image: 'https://i.quotev.com/jjvywhlyaaaa.jpg', shortDesc: 'A cunning Slytherin student', title: 'The Boy Who Had No Choice', about: 'Arrogant, prejudiced, but ultimately conflicted.', longDesc: 'Draco is Harry\'s rival from their first day at Hogwarts. Raised in a pure-blood supremacist family, he is often a bully but struggles with the immense pressure and dark tasks given to him by Lord Voldemort.', fullStory: 'Draco Malfoy was raised to believe in the superiority of pure-blood wizards. He served as a foil to Harry Potter for most of their school years, embodying prejudice and arrogance. However, his journey took a darker turn when he was tasked by Voldemort to kill Dumbledore. Draco found himself unable to commit murder, revealing a conflicted conscience beneath his cruel exterior. In the end, his and his family\'s hesitations played a small but crucial part in Voldemort\'s defeat.' },
            { id: 8, name: 'Sirius Black', house: 'Gryffindor', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUv5Ab_CpzF4jmUNU-Kmn-XOAL1p2eqVTjhw&s', shortDesc: 'Harry\'s loving godfather', title: 'Padfoot', about: 'Rebellious, loyal, and a devoted godfather.', longDesc: 'Sirius Black was one of the Marauders and Harry Potter\'s godfather. Falsely imprisoned in Azkaban, he escaped to protect Harry.', fullStory: 'Sirius Black was the heir of a dark, pure-blood family but rebelled by becoming a Gryffindor and a loyal friend to James Potter. As an unregistered Animagus (a large black dog named Padfoot), he was a member of the Marauders. After being framed for the murder of Peter Pettigrew and a dozen Muggles, he spent twelve years in Azkaban. He escaped and became the loving, albeit reckless, godfather Harry desperately needed, offering a link to his parents and a brief taste of family before his tragic death.' },
            { id: 9, name: 'Rubeus Hagrid', house: 'Gryffindor', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRz8ccN57G6NnzskZUTTD8vV9pvtbmKJNHGmg&s', shortDesc: 'Keeper of Keys and Grounds', title: 'Keeper of Keys', about: 'A gentle giant with a love for magical creatures.', longDesc: 'Hagrid is the Keeper of Keys and Grounds at Hogwarts. A half-giant with a kind heart, he introduced Harry to the wizarding world.', fullStory: 'Rubeus Hagrid, a half-giant wizard, was expelled from Hogwarts in his third year. Dumbledore allowed him to stay on as gamekeeper. Fiercely loyal and possessing immense strength, Hagrid has a deep affection for all magical creatures, no matter how dangerous. He served as Harry\'s first guide and a constant, warm presence in his life. He was a member of the Order of the Phoenix and fought bravely in both wizarding wars, his loyalty to Dumbledore and Harry never wavering.' },
            { id: 10, name: 'Luna Lovegood', house: 'Ravenclaw', image: 'https://i.pinimg.com/736x/41/21/0b/41210b9527edbf2a9e7e1eef2b145c98.jpg', shortDesc: 'An eccentric Ravenclaw', title: 'Loony Lovegood', about: 'Quirky, open-minded, and a loyal friend.', longDesc: 'Known for her dreamy disposition, Luna is a uniquely perceptive and brave member of Dumbledore\'s Army.', fullStory: 'Luna Lovegood was often ostracized for her eccentric beliefs and odd behavior. However, she possessed a rare wisdom and an unflinching ability to be herself. She saw things others missed and offered comfort and perspective to Harry in his darkest moments. A core member of Dumbledore\'s Army, she fought bravely at the Department of Mysteries and the Battle of Hogwarts, proving that her unconventional nature was a source of great strength and loyalty.' },
            { id: 11, name: 'Cedric Diggory', house: 'Hufflepuff', image: 'https://i.pinimg.com/736x/8d/e9/90/8de990c4c24a1b4d8090843f71ce8715.jpg', shortDesc: 'The Hogwarts Champion', title: 'The Triwizard Champion', about: 'Kind, fair, and a talented wizard.', longDesc: 'Cedric was a popular Hufflepuff student and the Hogwarts Champion in the Triwizard Tournament before his tragic death.', fullStory: 'Cedric Diggory represented the best of Hufflepuff house: he was fair-minded, honest, and hardworking. As a talented and popular student, he was chosen as one of two Hogwarts champions in the Triwizard Tournament. He showed immense sportsmanship, particularly towards Harry. His senseless murder by Peter Pettigrew on Voldemort\'s command marked a turning point in the series, signaling the Dark Lord\'s terrifying return and the end of an era of relative peace.' }
        ];

        const grid = document.querySelector('.character-grid');
        const filterContainer = document.querySelector('.filters');
        const detailView = document.getElementById('character-detail-view');
        const magicOverlay = document.getElementById('magic-animation-overlay');
        const storyModal = document.getElementById('full-story-modal');
        const magicSound = new Audio('magic_sound.mp3');

        function displayCharacters(charArray) {
            grid.innerHTML = '';
            charArray.forEach(char => {
                const card = document.createElement('div');
                card.className = 'character-card';
                card.setAttribute('data-house', char.house);
                card.setAttribute('data-id', char.id);
                card.innerHTML = 
                    `<div class="card-content">
                        <img src="${char.image}" alt="${char.name}">
                        <h2>${char.name}</h2>
                        <p class="house">${char.house}</p>
                        <p class="short-desc">${char.shortDesc}</p>
                        <button class="view-more-btn">VIEW MORE</button>
                    </div>`;
                grid.appendChild(card);
            });
        }
        
        function showDetailView(charId) {
            const character = characters.find(c => c.id == charId);
            if (!character) return;

            magicOverlay.classList.remove('hidden');
            magicSound.play().catch(e => console.warn("Audio play failed"));

            setTimeout(() => {
                magicOverlay.classList.add('hidden');
                const detailContent = detailView.querySelector('.detail-content');
                const houseLogoUrl = houseData[character.house] ? houseData[character.house].logo : '';

                detailContent.innerHTML = 
                    `<h1 class="char-name">${character.name}</h1>
                    <div class="char-house-container">
                        <img src="${houseLogoUrl}" alt="${character.house} Logo" class="char-house-logo">
                        <p class="char-house">${character.house} ⚡</p>
                    </div>
                    <div class="char-image-container">
                        <img src="${character.image}" alt="${character.name}" class="char-img">
                        <h2 class="char-title">${character.title}</h2>
                    </div>
                    <div class="about-section">
                        <h3>About</h3>
                        <p class="char-desc"><strong>${character.about}</strong><br><br>${character.longDesc}</p>
                    </div>
                    <div class="detail-buttons">
                        <button class="detail-btn back-btn">← Back</button>
                        <button class="detail-btn heart-btn">💛</button>
                        <button class="detail-btn more-btn">More</button>
                    </div>`;
                detailView.classList.remove('hidden');
                
                detailView.querySelector('.back-btn').addEventListener('click', () => detailView.classList.add('hidden'));
                detailView.querySelector('.heart-btn').addEventListener('click', createHeartBurst);
                detailView.querySelector('.more-btn').addEventListener('click', () => showFullStory(charId));

            }, 1500);
        }
        
        function showFullStory(charId) {
            const character = characters.find(c => c.id == charId);
            if (!character || !character.fullStory) return;

            const storyDetails = document.getElementById('story-details');
            storyDetails.innerHTML = `<h2>${character.name}</h2><p>${character.fullStory}</p>`;
            storyModal.classList.remove('hidden');
        }

        function createHeartBurst(event) {
            const rect = event.currentTarget.getBoundingClientRect();
            const originX = rect.left + rect.width / 2;
            const originY = rect.top + rect.height / 2;
            const hearts = ['❤️', '🧡', '💛', '💚', '💙', '💜', '💖'];
            for (let i = 0; i < 30; i++) {
                const heart = document.createElement('div');
                heart.className = 'flying-heart';
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = `${originX}px`;
                heart.style.top = `${originY}px`;
                const xEnd = (Math.random() - 0.5) * 400;
                const yEnd = -(Math.random() * 300 + 200);
                heart.style.setProperty('--x-end', `${xEnd}px`);
                heart.style.setProperty('--y-end', `${yEnd}px`);
                heart.style.animation = `fly-up ${Math.random() * 1 + 1.5}s ease-out forwards`;
                document.body.appendChild(heart);
                setTimeout(() => { heart.remove(); }, 2500);
            }
        }

        filterContainer.addEventListener('click', function(e) {
            const target = e.target.closest('.filter-btn');
            if (!target) return;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            target.classList.add('active');
            const filter = target.getAttribute('data-filter');
            document.querySelectorAll('.character-card').forEach(card => {
                if (filter === 'all' || card.getAttribute('data-house') === filter) {
                    card.classList.remove('hide');
                } else {
                    card.classList.add('hide');
                }
            });
        });

        grid.addEventListener('click', function(e) {
            const btn = e.target.closest('.view-more-btn');
            if (btn) {
                const card = btn.closest('.character-card');
                showDetailView(card.getAttribute('data-id'));
            }
        });

        storyModal.querySelector('.close-story-btn').addEventListener('click', () => {
            storyModal.classList.add('hidden');
        });

        displayCharacters(characters);
    });
    </script>
</body>
</html>
